<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui" 
	xmlns:b="http://bootsfaces.net/ui">
<h:head>
	<!-- Custom styles for this template -->
</h:head>
<h:body>
	<ui:composition template="/template.xhtml">
		<ui:define name="content">
			<!-- Archivliste -->
			<div class="col-md-3 hidden-xs hidden-sm column">
				<!-- Filter -->
				<div class="panel panel-default artikelPanel">
					<div class="panel-heading">  
						<div class="pull-left schrift">
							<p:outputLabel rendered="#{data.filtergruppe.isFirma()}" value="#{data.filtergruppe.firma.name}" style="color: blue;"></p:outputLabel>
							<p:outputLabel rendered="#{!data.filtergruppe.isFirma()}" value="Private Filtergruppe" style="color: green;"></p:outputLabel>
							<h4 >#{data.filtergruppe.titel}</h4>
						</div>
						
						<b:form>
							<p:commandLink id="filter-bearbeiten" action="/filterbearbeiten.xhtml?faces-redirect=true"> 
								<!-- <f:param name="filterprofile" value="#{firmen.ausgewaehlteFirma.filterprofile}" />	
								<f:param name="filtergruppe" value="#{gruppe}" /> -->
								<f:actionListener for="filter-bearbeiten" binding="#{filterbearbeiten.setParameter(data.filtergruppe, data.filtergruppe.isFirma() ? data.filtergruppe.firma.filterprofile : data.filterprofile)}" />
								<p:graphicImage value="/resources/image/edit-square.svg"
									class="pull-right bild" />
							</p:commandLink>
						</b:form>
						<div class="clearfix"></div>
					 
					</div>

					<div class="panel-body filter">
						<h:form>
							<h4>Filter</h4>
							<div class="form-group">
								<b:dateTimePicker value="#{archiv.abZeitpunkt}" label="Frühste"
									mode="popup" show-time="false" render-label="true" />
							</div>
							<div class="form-group">
								<b:dateTimePicker value="#{archiv.bisZeitpunkt}"
									label="Späteste" mode="popup" show-time="false"
									render-label="true" />
							</div>
						</h:form>
					</div>
					<p:dataList class="list-group archiveintraege"
						value="#{archiv.archiveintraege}" var="eintrag" type="definition">
						<h:form>
							<p:commandLink class="list-group-item" id="ajax"
								update="artikelBereich" action="#{archiv.buttonAction(eintrag)}">
								<h:outputText value="#{eintrag.erstellungsDatum}">
									<f:convertDateTime type="date" pattern="dd.MM.yyyy" />
								</h:outputText>
							</p:commandLink>
						</h:form>
					</p:dataList>
				</div>
			</div>
			<!-- Ausgewaehltes Archiv -->
			<div class="col-md-9 column">
				<!-- Archiv -->
				<h:form class="panel panel-default artikelPanel" id="artikelBereich">
					<div class="panel-heading">
						<h3 class="panel-title pull-left linkeUeberschrift">
							Pressespiegel vong
							<h:outputText
								value="#{archiv.geweahlterArchiveintrag.erstellungsDatum}">
								<f:convertDateTime type="date" pattern="dd.MM.yyyy" />
							</h:outputText>
						</h3>
						<div class="btn-group pull-right" role="group">
							<button type="button" class="btn btn-default">PDF
								exportieren</button>
							<div class="btn-group" role="group">
								<button class="btn btn-default dropdown-toggle" type="button"
									id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true"
									aria-expanded="true">
									Archiveintrag bearbeiten <span class="caret"></span>
								</button>
								<ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
									<li><a href="#">Löschen</a></li>
									<li><a href="#">Filterprofil anzeigen</a></li>
									<li><a href="#">Something else here</a></li>
								</ul>
							</div>
						</div>
						<div class="clearfix"></div>
					</div>

					<p:dataList class="list-group artikel"
						value="#{archiv.geweahlterArchiveintrag.artikel}" var="artikel"
						type="definition">

						<a href="#" class="list-group-item">
							<div class="artikel-titel-container">
								<h4 class="pull-left">#{artikel.titel}</h4>
								<p class="pull-right">
									Erschienen am
									<h:outputText value="#{artikel.erstellungsdatum}">
										<f:convertDateTime type="date" pattern="dd.MM.yyyy hh:mm" />
									</h:outputText>
								</p>
							</div>
							<p id="artikel-zusammenfassung">#{artikel.titel}</p>
							<div class="artikel-titel-container">
								<h5 class="pull-left">#{artikel.autor}</h5>
								<button type="button"
									class="btn btn-info pull-right artikel-button">Artikel
									ansehen</button>
							</div>
						</a>

					</p:dataList>

				</h:form>
			</div>


		</ui:define>
		<ui:define name="footer">

		</ui:define>
	</ui:composition>
</h:body>
</html>
